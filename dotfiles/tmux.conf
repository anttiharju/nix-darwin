# Fix logic that does not match the physical keyboard layout
set -g base-index 1
setw -g pane-base-index 1

# Skip confirmation
bind-key & kill-window
bind-key x kill-pane

# Automatically rename window to current directory basename
set-option -g status-interval 1
set-option -g automatic-rename on
set-option -g automatic-rename-format '#{?#{==:#{pane_current_command},fish},#{?#{==:#{b:pane_current_path},antti},~,#{b:pane_current_path}},#{pane_current_command}}'

# Prevent tangling sessions
set-option -g destroy-unattached on

# Open new panes in the same working directory
bind '"' split-window -v -c "#{pane_current_path}"
bind % split-window -h -c "#{pane_current_path}"

# Allow copying text with mouse
setw -g mouse on

# Increase scrollback history
set -g history-limit 50000 # default is 2000

# Disable repeat so switching between panes does not block accessing shell history
bind-key    Up    select-pane -U
bind-key    Down  select-pane -D
bind-key    Left  select-pane -L
bind-key    Right select-pane -R
